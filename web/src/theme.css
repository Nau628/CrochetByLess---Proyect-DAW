/* =========================================
   CROCHET BY LESS — THEME (LIMPIO)
   Paleta:
   - Rosa claro:    #fef0f1
   - Lila:          #c0a0ce
   - Rosa pálido:   #f2e0eb
   - Menta:         #91c6b0
   - Lila claro:    #e0c7e1
   Tipografía: Poppins + sistema
   ========================================= */

:root{
  /* colores base */
  --rosa-claro: #fef0f1;
  --lila: #c0a0ce;
  --rosa-palido: #f2e0eb;
  --menta: #91c6b0;
  --lila-claro: #e0c7e1;

  /* tokens */
  --bg: var(--rosa-claro);
  --card: #fff;
  --text: #513a57;        /* lila oscuro */
  --muted: #6f5a7b;
  --primary: var(--lila);
  --primary-hover: #b58bc9;
  --accent: var(--menta);
  --ring: var(--lila-claro);
  --border: #eaeaea;      /* borde consistente */
}

/* Reset básico */
*{ box-sizing: border-box; }
html, body, #root{ height:100%; }
body{
  margin:0;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg);
  color: var(--text);
}
button, input, select, textarea, a{ font: inherit; color: inherit; }

/* Contenedor y secciones */
.container{ max-width:1100px; margin: 0 auto; padding: 0 12px; }
.section{ margin: 18px 0; }

/* Botones */
.btn{
  display:inline-block; padding:10px 14px; border-radius:12px;
  border:1px solid var(--primary); color:white; background: var(--primary);
}
.btn.alt{ background: var(--accent); border-color: var(--accent); }
.btn:focus{ outline: 3px solid var(--ring); outline-offset: 2px; }
.btn.menta{ background: var(--menta); border-color: var(--menta); color:#20433b; font-weight:700; }
.btn.menta:hover{ filter: brightness(.95); }

/* Pills (chips) */
.pills{ display:flex; gap:10px; flex-wrap:wrap; }
.pill{
  background: var(--rosa-palido);
  border:1px solid var(--border);
  color: var(--text);
  padding:8px 14px; border-radius: 999px; font-weight:600;
}
.pill.active { font-weight: 700; }

/* Grid y tarjetas */
.grid{
  display:grid; gap:14px;
  grid-template-columns: repeat(auto-fill, minmax(200px,1fr));
}
.card{
  background: var(--card); border:1px solid var(--border);
  border-radius:16px; padding:12px; box-shadow: 0 2px 8px rgba(0,0,0,.04);
}
.card img{ width:100%; aspect-ratio: 4/3; object-fit: cover; border-radius:12px; background: var(--lila-claro); }
.card h3{ margin:10px 0 6px; }
.price{ opacity:.85; font-weight:600; }

/* Banner */
.banner{
  background: var(--lila);
  color: white; text-align:center; padding:10px 14px; border-radius:12px;
}

/* Layouts opcionales que ya usabas */
.hero{ display:grid; grid-template-columns: 2fr 1.2fr; gap:16px; }
@media (max-width: 840px){ .hero{ grid-template-columns: 1fr; } }

.info-grid{ display:grid; gap:14px; grid-template-columns: repeat(3, 1fr); }
@media (max-width: 840px){ .info-grid{ grid-template-columns: 1fr; } }

.extra-grid{ display:grid; gap:14px; grid-template-columns: 1fr 1fr; }
@media (max-width: 840px){ .extra-grid{ grid-template-columns: 1fr; } }

/* Formularios */
.form-grid{ display:grid; grid-template-columns: 1.3fr 1fr; gap:16px; }
@media (max-width: 900px){ .form-grid{ grid-template-columns:1fr; } }
.field{ display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
.field input, .field select, .field textarea{
  padding:10px; border:1px solid var(--border); border-radius:12px; background:#fff;
}
.form-grid label { display:block; margin-bottom:10px; }
.form-grid input, .form-grid textarea, .form-grid select { width: 100%; box-sizing: border-box; }
.form-row-2 { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
@media (max-width: 720px){ .form-row-2{ grid-template-columns: 1fr; } }
.hint{ font-size:12px; opacity:.7; }

/* Autocomplete dropdown */
.ac-list{
  position: absolute; z-index: 10; background:#fff; border:1px solid var(--border);
  border-radius:12px; margin-top:4px; width:100%; box-shadow:0 6px 20px rgba(0,0,0,.06);
}
.ac-item{ padding:8px 10px; cursor:pointer; }
.ac-item:hover{ background: var(--rosa-palido); }

/* Zoom modal (detalle producto) */
.zoom-backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.75);
  display: grid;
  place-items: center;
  z-index: 1000;
}
.zoom-stage{
  max-width: 92vw; max-height: 86vh;
  overflow: hidden;
  border-radius: 14px;
  background: #111;
  border: 1px solid rgba(255,255,255,.15);
  box-shadow: 0 12px 40px rgba(0,0,0,.5);
}
.zoom-img{
  display: block;
  max-width: 92vw; max-height: 86vh;
  object-fit: contain;
  will-change: transform;
  transition: transform .06s linear;
}
.zoom-close{
  position: fixed; top: 16px; right: 16px;
  width: 40px; height: 40px; border-radius: 999px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(0,0,0,.3);
  color: #fff; font-size: 18px; cursor: pointer;
}
.zoom-close:hover{ background: rgba(255,255,255,.1); }
.zoom-nav{
  position: fixed; top: 50%; transform: translateY(-50%);
  width: 46px; height: 46px; border-radius: 999px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(0,0,0,.3);
  color: #fff; font-size: 28px; cursor: pointer;
  display: grid; place-items: center;
}
.zoom-nav.prev{ left: 16px; }
.zoom-nav.next{ right: 16px; }
.zoom-nav:hover{ background: rgba(255,255,255,.1); }
.zoom-help{
  position: fixed; bottom: 14px; left: 50%; transform: translateX(-50%);
  color: rgba(255,255,255,.85);
  font-size: 12px;
  background: rgba(0,0,0,.35);
  padding: 6px 10px; border-radius: 999px;
  border: 1px solid rgba(255,255,255,.15);
}

/* Toasts */
.toast-wrap{
  position: fixed; right: 12px; top: 12px;
  display: flex; flex-direction: column; gap: 8px;
  z-index: 2000;
}
.toast{
  background: #111; color: #fff; border: 1px solid rgba(255,255,255,.12);
  padding: 10px 12px; border-radius: 10px; box-shadow: 0 6px 24px rgba(0,0,0,.25);
  animation: toastIn .18s ease-out; cursor: pointer;
}
.toast.ok{ background: #0f5132; border-color: #0f5132; }
.toast.err{ background: #842029; border-color: #842029; }
@keyframes toastIn { from{ transform: translateY(-8px); opacity: 0 } to{ transform: translateY(0); opacity: 1 } }

/* Badge y animación carrito */
.badge { display: inline-block; min-width: 1.25em; padding: 0 6px; border-radius: 999px; background: #eb4d4b; color: #fff; font-size: 12px; text-align: center; margin-left: 6px; }
.badge.bump { animation: bump .3s ease-out; }
@keyframes bump { 0%{ transform: scale(1) } 50%{ transform: scale(1.18) } 100%{ transform: scale(1) } }

/* DnD tarjetas admin (sutil) */
.card[draggable="true"] { transition: transform .12s ease; }
.card[draggable="true"]:active { transform: scale(.98); }

/* =========================
   NAVBAR (sistema actual)
   ========================= */
.nav {
  background: #fef0f1; /* rosa muy claro */
  border-bottom: 1px solid #f2e0eb;
  position: sticky; top: 0; z-index: 50;
}
.nav .nav-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px;
}
.brand {
  display: flex; align-items: center; gap: 10px; text-decoration: none;
  color: #6b5a78; font-weight: 700;
}
.brand img { height: 36px; width: 36px; object-fit: contain; border-radius: 999px; }

.hamb {
  display: none; background: #fff; border: 1px solid #e0c7e1; border-radius: 10px;
  width: 36px; height: 36px; font-size: 18px; cursor: pointer; color: #6b5a78;
}

/* Menú y links (incluye botón .linklike = Cerrar sesión) */
.menu { display: flex; }
.menu ul { display: flex; gap: 14px; list-style: none; margin: 0; padding: 0; align-items: center; }
.menu li { display: flex; }

.menu a,
.menu .linklike{
  text-decoration: none; color: #6b5a78; font-weight: 600; padding: 6px 8px; border-radius: 8px;
  background: transparent; border: 0; cursor: pointer; display: inline-flex; align-items: center;
}
.menu a.active { background: #e0c7e1; color: #3d3046; }
.menu a:hover, .menu .linklike:hover { background: #f2e0eb; }
.menu-right { margin-left: 12px; }

/* Responsive */
@media (max-width: 768px) {
  .hamb { display: inline-flex; align-items: center; justify-content: center; }
  .menu { display: none; }
  .menu.open { display: block; width: 100%; }
  .menu.open ul { 
    flex-direction: column; align-items: stretch; gap: 0;
    margin-top: 8px; background: #fff; border: 1px solid #f2e0eb; border-radius: 12px; overflow: hidden;
  }
  .menu.open li { border-bottom: 1px solid #f7eaf2; }
  .menu.open li:last-child { border-bottom: none; }
  .menu.open a, .menu.open .linklike { padding: 12px 14px; }
  .menu-right { margin-left: 0; }
}

/* ===== Responsive overflow fixes ===== */

/* Evitar scroll horizontal global */
html, body { overflow-x: hidden; }

/* Imágenes y medios nunca más grandes que su contenedor */
img, video, canvas, svg { max-width: 100%; height: auto; }

/* Botones y enlaces grandes: permitir salto de línea */
button, .btn, .pill, .menu a, .menu .linklike {
  max-width: 100%;
  white-space: normal;       /* permitir wraps */
  word-break: normal;
  overflow-wrap: anywhere;   /* rompe palabras muy largas (p.ej. URLs) */
}

/* Títulos/textos que puedan ser larguísimos (catálogo, cards, etc.) */
h1, h2, h3, .product-title, .card h3, .banner, .pill {
  overflow-wrap: anywhere;
}

/* Las “cards” no deben desbordar por padding interno */
.card { overflow: hidden; }

/* Grids: baja el mínimo en móviles para que quepan mejor */
@media (max-width: 420px) {
  .grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
}

/* Formularios: inputs y selects que no empujen el ancho */
.field, .form-grid, .form-row-2 { min-width: 0; }
.field input, .field select, .field textarea {
  min-width: 0; width: 100%;
}

/* Fila de acciones (iconos, botones) que a veces se salen */
.actions, .nav-actions, .nav .menu ul {
  flex-wrap: wrap;
}

/* Nav móvil: asegúrate de que el menú no sobresalga */
@media (max-width: 768px) {
  .menu.open { width: 100%; }
  .menu.open ul { width: 100%; }
}

/* Tablas o contenedores con mucho contenido: utilidad de scroll-x */
.scroll-x { overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* Utilidades de texto por si las necesitas en componentes puntuales */
.break-words { overflow-wrap: anywhere; }
.nowrap { white-space: nowrap; }

/* Ajuste suave de tamaño en headings del hero si fueran muy grandes */
.responsive-title { font-size: clamp(1.1rem, 2.8vw, 1.6rem); }

/* === Botones en cards de producto: responsivos y sin corte de texto === */
.product-card .product-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;           /* permite que bajen a otra línea */
  align-items:stretch;
}

.product-card .product-actions .btn{
  flex: 1 1 140px;          /* mínimo ~140px, así si no cabe, se hace wrap */
  min-width: 0;             /* evita empujar el contenedor */
  text-align:center;
  white-space: normal;      /* deja que el texto salte de línea */
  overflow-wrap: anywhere;  /* si es muy largo, lo parte bonito */
  padding: 8px 10px;
  /* texto que se ajusta: nunca gigante, nunca microscópico */
  font-size: clamp(0.82rem, 1.7vw, 0.95rem);
  line-height: 1.1;
}

/* Cuando la card es muy angosta (móviles pequeños), apila en columna */
@media (max-width: 420px){
  .product-card .product-actions .btn{
    flex-basis: 100%;       /* cada botón ocupa el ancho completo */
  }
}

/* Si tienes un CTA “principal”, puede ocupar toda la fila en pantallas pequeñas */
.product-card .product-actions .btn.primary{
  /* sin cambios en desktop */
}
@media (max-width: 420px){
  .product-card .product-actions .btn.primary{
    flex-basis: 100%;
  }
}
